TRACE=0
TRACEON=$(TRACE:0=@)
TRACE_FLAG=$(TRACEON:1=)

MAKEFILE := Makefile

FLEXIBLE_BUILD := 1

BUILD_SPEC = PPC603gnu
DEBUG_MODE = 1
ifeq ($(DEBUG_MODE),1)
MODE_DIR := Debug
else
MODE_DIR := NonDebug
endif
OBJ_DIR := .
PRJ_ROOT_DIR := {project_directory}
WS_ROOT_DIR := {workspace_directory}



#Global Build Macros
PROJECT_TYPE = DKM
DEFINES =
EXPAND_DBG = 0


#BuildSpec specific Build Macros
VX_CPU_FAMILY = ppc
CPU = PPC603
TOOL_FAMILY = gnu
TOOL = gnu
TOOL_PATH =
CC_ARCH_SPEC = -mcpu=603 -mstrict-align -mno-implicit-fp -mlongcall
LIBPATH =
LIBS =

IDE_INCLUDES = -I.. -I$(WIND_BASE)/target/h -I$(WIND_BASE)/target/h/wrn/coreip

IDE_LIBRARIES =



#BuildTool flags
ifeq ($(DEBUG_MODE),1)
DEBUGFLAGS_C-Compiler = -g
DEBUGFLAGS_C++-Compiler = -g
DEBUGFLAGS_Linker = -g
DEBUGFLAGS_Partial-Image-Linker =
DEBUGFLAGS_Librarian =
DEBUGFLAGS_Assembler = -g
else
DEBUGFLAGS_C-Compiler = -O2 -fstrength-reduce -fno-builtin
DEBUGFLAGS_C++-Compiler = -O2 -fstrength-reduce -fno-builtin
DEBUGFLAGS_Linker = -O2 -fstrength-reduce -fno-builtin
DEBUGFLAGS_Partial-Image-Linker =
DEBUGFLAGS_Librarian =
DEBUGFLAGS_Assembler = -O2 -fstrength-reduce -fno-builtin
endif


#Project Targets
PROJECT_TARGETS = {project_name}/$(MODE_DIR)/{project_name}.a

#Rules

# {project_name}
ifeq ($(DEBUG_MODE),1)
{project_name}/$(MODE_DIR)/% : DEBUGFLAGS_C-Compiler = -g
{project_name}/$(MODE_DIR)/% : DEBUGFLAGS_C++-Compiler = -g
{project_name}/$(MODE_DIR)/% : DEBUGFLAGS_Linker = -g
{project_name}/$(MODE_DIR)/% : DEBUGFLAGS_Partial-Image-Linker =
{project_name}/$(MODE_DIR)/% : DEBUGFLAGS_Librarian =
{project_name}/$(MODE_DIR)/% : DEBUGFLAGS_Assembler = -g
else
{project_name}/$(MODE_DIR)/% : DEBUGFLAGS_C-Compiler = -O2 -fstrength-reduce -fno-builtin
{project_name}/$(MODE_DIR)/% : DEBUGFLAGS_C++-Compiler = -O2 -fstrength-reduce -fno-builtin
{project_name}/$(MODE_DIR)/% : DEBUGFLAGS_Linker = -O2 -fstrength-reduce -fno-builtin
{project_name}/$(MODE_DIR)/% : DEBUGFLAGS_Partial-Image-Linker =
{project_name}/$(MODE_DIR)/% : DEBUGFLAGS_Librarian =
{project_name}/$(MODE_DIR)/% : DEBUGFLAGS_Assembler = -O2 -fstrength-reduce -fno-builtin
endif
{project_name}/$(MODE_DIR)/% : IDE_INCLUDES = -I.. -I$(WIND_BASE)/target/h -I$(WIND_BASE)/target/h/wrn/coreip
{project_name}/$(MODE_DIR)/% : IDE_LIBRARIES =
{project_name}/$(MODE_DIR)/% : PROJECT_TYPE = DKM
{project_name}/$(MODE_DIR)/% : DEFINES =
{project_name}/$(MODE_DIR)/% : EXPAND_DBG = 0
{project_name}/$(MODE_DIR)/% : VX_CPU_FAMILY = ppc
{project_name}/$(MODE_DIR)/% : CPU = PPC603
{project_name}/$(MODE_DIR)/% : TOOL_FAMILY = gnu
{project_name}/$(MODE_DIR)/% : TOOL = gnu
{project_name}/$(MODE_DIR)/% : TOOL_PATH =
{project_name}/$(MODE_DIR)/% : CC_ARCH_SPEC = -mcpu=603 -mstrict-align -mno-implicit-fp -mlongcall
{project_name}/$(MODE_DIR)/% : LIBPATH =
{project_name}/$(MODE_DIR)/% : LIBS =
{project_name}/$(MODE_DIR)/% : OBJ_DIR := {project_name}/$(MODE_DIR)

